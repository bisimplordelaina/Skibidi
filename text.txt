local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer
local Camera = game.Workspace.CurrentCamera

local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
ScreenGui.ResetOnSpawn = false

local OpenMenuButton = Instance.new("TextButton", ScreenGui)
OpenMenuButton.Size = UDim2.new(0, 50, 0, 50)
OpenMenuButton.Position = UDim2.new(0.05, 0, 0.05, 0)
OpenMenuButton.BackgroundColor3 = Color3.fromRGB(255, 255, 0)
OpenMenuButton.Text = "☰"
OpenMenuButton.TextSize = 30
OpenMenuButton.Font = Enum.Font.SourceSansBold
OpenMenuButton.TextColor3 = Color3.fromRGB(0, 0, 0)

local MenuFrame = Instance.new("Frame", ScreenGui)
MenuFrame.Size = UDim2.new(0, 250, 0, 500)
MenuFrame.Position = UDim2.new(0.05, 0, 0.12, 0)
MenuFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
MenuFrame.Visible = false

OpenMenuButton.MouseButton1Click:Connect(function()
    MenuFrame.Visible = not MenuFrame.Visible
end)

local function CreateButton(Name, Position, Callback)
    local Button = Instance.new("TextButton", MenuFrame)
    Button.Size = UDim2.new(0, 230, 0, 40)
    Button.Position = UDim2.new(0.05, 0, Position, 0)
    Button.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    Button.Text = Name .. " OFF"
    Button.TextColor3 = Color3.fromRGB(255, 255, 255)
    Button.Font = Enum.Font.SourceSansBold
    Button.TextSize = 18
    Button.MouseButton1Click:Connect(function()
        local State = Callback()
        Button.Text = Name .. (State and " ON" or " OFF")
        Button.BackgroundColor3 = State and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(255, 0, 0)
    end)
    return Button
end

local FastAttack = false
CreateButton("Fast Attack", 0.05, function()
    FastAttack = not FastAttack
    return FastAttack
end)

RunService.RenderStepped:Connect(function()
    if FastAttack then
        pcall(function()
            LocalPlayer.Character:FindFirstChildOfClass("Humanoid"):ChangeState(11)
            local VirtualUser = game:GetService("VirtualUser")
            VirtualUser:CaptureController()
            VirtualUser:Button1Down(Vector2.new())
        end)
    end
end)

local Aimbot = false
CreateButton("Aimbot Skill", 0.1, function()
    Aimbot = not Aimbot
    return Aimbot
end)

RunService.RenderStepped:Connect(function()
    if Aimbot then
        local ClosestEnemy = nil
        local ShortestDistance = math.huge

        for _, Player in pairs(Players:GetPlayers()) do
            if Player ~= LocalPlayer and Player.Character and Player.Character:FindFirstChild("HumanoidRootPart") then
                local Distance = (Player.Character.HumanoidRootPart.Position - LocalPlayer.Character.HumanoidRootPart.Position).Magnitude
                if Distance < ShortestDistance then
                    ClosestEnemy = Player
                    ShortestDistance = Distance
                end
            end
        end

        if ClosestEnemy then
            Camera.CFrame = CFrame.new(Camera.CFrame.Position, ClosestEnemy.Character.HumanoidRootPart.Position)
        end
    end
end)

local SpeedValue = 50

local SpeedText = Instance.new("TextLabel", MenuFrame)
SpeedText.Size = UDim2.new(0, 230, 0, 30)
SpeedText.Position = UDim2.new(0.05, 0, 0.15, 0)
SpeedText.BackgroundTransparency = 1
SpeedText.Text = "Speed: " .. SpeedValue
SpeedText.TextColor3 = Color3.fromRGB(255, 255, 255)
SpeedText.Font = Enum.Font.SourceSansBold
SpeedText.TextSize = 18

local SpeedSlider = CreateButton("← Adjust Speed →", 0.2, function()
    SpeedValue = SpeedValue + 10
    if SpeedValue > 500 then SpeedValue = 50 end
    SpeedText.Text = "Speed: " .. SpeedValue
end)

RunService.RenderStepped:Connect(function()
    LocalPlayer.Character.Humanoid.WalkSpeed = SpeedValue
end)

CreateButton("Dash & Soru No CD", 0.3, function()
    for _, v in pairs(getgc(true)) do
        if type(v) == "function" and getfenv(v).script == LocalPlayer.Character then
            if debug.getinfo(v).name == "Dash" or debug.getinfo(v).name == "Soru" then
                setupvalue(v, 2, 0)
            end
        end
    end
end)
