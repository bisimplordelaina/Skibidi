
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer
local Camera = game.Workspace.CurrentCamera


local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
ScreenGui.ResetOnSpawn = false


local OpenMenuButton = Instance.new("Frame", ScreenGui)
OpenMenuButton.Size = UDim2.new(0, 50, 0, 50)
OpenMenuButton.Position = UDim2.new(0.05, 0, 0.05, 0)
OpenMenuButton.BackgroundColor3 = Color3.fromRGB(255, 255, 0)
OpenMenuButton.Visible = true

local ClickText = Instance.new("TextLabel", OpenMenuButton)
ClickText.Size = UDim2.new(1, 0, 1, 0)
ClickText.Text = "☰"
ClickText.TextColor3 = Color3.fromRGB(0, 0, 0)
ClickText.Font = Enum.Font.SourceSansBold
ClickText.TextSize = 30
ClickText.BackgroundTransparency = 1


local MenuFrame = Instance.new("Frame", ScreenGui)
MenuFrame.Size = UDim2.new(0, 250, 0, 400)
MenuFrame.Position = UDim2.new(0.05, 0, 0.12, 0)
MenuFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
MenuFrame.Visible = false

OpenMenuButton.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        MenuFrame.Visible = not MenuFrame.Visible
    end
end)

local function CreateButton(Name, Position, Callback)
    local Button = Instance.new("TextButton", MenuFrame)
    Button.Size = UDim2.new(0, 230, 0, 40)
    Button.Position = UDim2.new(0.05, 0, Position, 0)
    Button.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    Button.Text = Name .. " OFF"
    Button.TextColor3 = Color3.fromRGB(255, 255, 255)
    Button.Font = Enum.Font.SourceSansBold
    Button.TextSize = 18
    Button.MouseButton1Click:Connect(function()
        local State = Callback()
        Button.Text = Name .. (State and " ON" or " OFF")
        Button.BackgroundColor3 = State and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(255, 0, 0)
    end)
    return Button
end


local SpeedText = Instance.new("TextLabel", MenuFrame)
SpeedText.Size = UDim2.new(0, 230, 0, 30)
SpeedText.Position = UDim2.new(0.05, 0, 0.15, 0)
SpeedText.BackgroundTransparency = 1
SpeedText.Text = "Speed: " .. SpeedValue
SpeedText.TextColor3 = Color3.fromRGB(255, 255, 255)
SpeedText.Font = Enum.Font.SourceSansBold
SpeedText.TextSize = 18

local SpeedSlider = Instance.new("TextButton", MenuFrame)
SpeedSlider.Size = UDim2.new(0, 230, 0, 40)
SpeedSlider.Position = UDim2.new(0.05, 0, 0.2, 0)
SpeedSlider.BackgroundColor3 = Color3.fromRGB(0, 150, 255)
SpeedSlider.Text = "← Adjust Speed →"
SpeedSlider.TextColor3 = Color3.fromRGB(255, 255, 255)
SpeedSlider.Font = Enum.Font.SourceSansBold
SpeedSlider.TextSize = 18

SpeedSlider.MouseButton1Click:Connect(function()
    SpeedValue = SpeedValue + 10
    if SpeedValue > 500 then SpeedValue = 50 end  -- Giới hạn tốc độ
    SpeedText.Text = "Speed: " .. SpeedValue
end)

RunService.RenderStepped:Connect(function()
    LocalPlayer.Character.Humanoid.WalkSpeed = SpeedValue
end)

CreateButton("⚡ Dash & Soru No CD", 0.25, function()
    for _, v in pairs(getgc(true)) do
        if type(v) == "function" and getfenv(v).script == LocalPlayer.Character then
            if debug.getinfo(v).name == "Dash" or debug.getinfo(v).name == "Soru" then
                setupvalue(v, 2, 0)
            end
        end
    end
end)
